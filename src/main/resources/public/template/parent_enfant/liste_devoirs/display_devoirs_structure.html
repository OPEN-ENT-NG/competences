<!--
  ~ Copyright (c) Région Hauts-de-France, Département 77, CGI, 2016.
  ~
  ~ This file is part of OPEN ENT NG. OPEN ENT NG is a versatile ENT Project based on the JVM and ENT Core Project.
  ~
  ~ This program is free software; you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as
  ~ published by the Free Software Foundation (version 3 of the License).
  ~ For the sake of explanation, any module that communicate over native
  ~ Web protocols, such as HTTP, with OPEN ENT NG is outside the scope of this
  ~ license and could be license under its own terms. This is merely considered
  ~ normal use of OPEN ENT NG, and does not fall under the heading of "covered work".
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
  ~
  -->
<div ng-include="'/viescolaire/public/templates/evaluations/setting.html'"></div>
<div class="custom-mobile-releve"
     ng-include="'/viescolaire/public/templates/evaluations/parent_enfant/accueil/eval_parent_menu.html'"></div>

<div class="row" ng-controller="ListController">
    <nav class="twelve cell">
        <div class="cell floatRight">
            <i class="show-list" ng-class="{ selected: template.contains('evaluations', '../templates/evaluations/parent_enfant/liste_devoirs/list_view') }"
               ng-click="template.open('evaluations', '../templates/evaluations/parent_enfant/liste_devoirs/list_view')"></i>
            <i class="show-icons" ng-class="{ selected: template.contains('evaluations', '../templates/evaluations/parent_enfant/liste_devoirs/icon_view') }"
               ng-click="template.open('evaluations', '../templates/evaluations/parent_enfant/liste_devoirs/icon_view')"></i>
        </div>
        <div class="microbox-wrapper zero">
            <div class="microbox-content">
                <i class="close-2x"></i>
                <div class="microbox-material"></div>
                <button class="microbox-close"></button>
            </div>
        </div>
    </nav>
    <div class="twelve twelve-mobile cell list-devoirs">
        <microbox title="evaluations.criteres.titre.bouton.ouvrir" close="evaluations.criteres.titre.bouton.fermer">
            <div  class="two cell twelve-mobile">
                <div class="criterion card" >
                    <div  class="header">
                        <h2><i18n>viescolaire.utils.criterion</i18n></h2>
                    </div>

                    <section>
                        <label class="select">
                            <select ng-model="search.periode"
                                    ng-options="getI18nPeriode(periode) for periode in selectedEleve.classe.periodes.all">
                                <option disabled value="" class="header-opt">
                                    [[translate('viescolaire.utils.periode')]]
                                </option>
                            </select>
                        </label>
                    </section>
                    <section >
                        <label class="select">
                            <select ng-model="search.matiere"
                                    ng-options="matiere.name for matiere in matieres.all | unique:'name'">
                                <option value="" class="header-opt">[[translate('viescolaire.utils.subject')]]</option>
                            </select>
                        </label>
                    </section>
                    <section ng-if="me.type !== 'PERSRELELEVE'">
                        <label class="select">
                            <select ng-model="search.enseignant"
                                    ng-options="getTeacherDisplayName(enseignant.id) for enseignant in enseignants.all">
                                <option class="header-opt" value="">[[translate('viescolaire.utils.teacher')]]</option>
                            </select>
                        </label>
                    </section>
                </div>
            </div>
        </microbox>
        <div class="marginFive card custom-mobile-releve" style="padding: 5px">
            <header class="headerStyle">
                <h2 class="twelve-mobile"><i18n>viescolaire.utils.criterion</i18n></h2>
            </header>
        <section class="row custom-mobile-releve twelve-mobile">
            <label class="select">
                <select ng-model="search.periode"
                        ng-options="getI18nPeriode(periode) for periode in selectedEleve.classe.periodes.all">
                    <option disabled value="" class="header-opt">
                        [[translate('viescolaire.utils.periode')]]
                    </option>
                </select>
            </label>
        </section>
        <section  class="row custom-mobile-releve twelve-mobile">
            <label class="select">
                <select ng-model="search.matiere"
                        ng-options="matiere.name for matiere in matieres.all | unique:'name'">
                    <option value="" class="header-opt">[[translate('viescolaire.utils.subject')]]</option>
                </select>
            </label>
        </section>
        <section class="row custom-mobile-releve twelve-mobile" ng-if="me.type !== 'PERSRELELEVE'">
            <label class="select">
                <select ng-model="search.enseignant"
                        ng-options="getTeacherDisplayName(enseignant.id) for enseignant in enseignants.all">
                    <option class="header-opt" value="">[[translate('viescolaire.utils.teacher')]]</option>
                </select>
            </label>
        </section>
        </div>
        <div class="ten cell twelve-mobile">

            <div class="marginFive card">
                <header class="headerStyle">
                    <h2 class="twelve-mobile"><i18n>evaluations.test.owner.list</i18n></h2>
                    <input type="text" ng-model="search.name"
                           placeholder="[[translate('evaluations.filter.name')]]..." style="width: 99%;font-size: 1em;font-style: italic;">
                </header>
                <container template="evaluations" class="twelve cell toggle-buttons-spacer"></container>
            </div>
        </div>

    </div>
</div>


