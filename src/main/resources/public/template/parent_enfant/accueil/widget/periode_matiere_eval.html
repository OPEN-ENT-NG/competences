<section>
    <article class="five cell box-accueil twelve-mobile">
        <div class="content-box-accueil">
            <div class="titre-widget center twelve">
                <h2 class="inline-block " ng-if="me.type !== 'PERSRELELEVE'">
                    <i18n>evaluations.mes.evaluations.par.periode.par.matiere</i18n>&nbsp;
                </h2>
                <h2 class="inline-block " ng-if="me.type === 'PERSRELELEVE'">
                    <i18n>evaluations.evaluations.par.periode.par.matiere</i18n>&nbsp;
                </h2>
                <i class="help" ng-click="getInfoCompetencesDevoir()"></i>
            </div>
            <div class="titre-widget center twelve">
            <label class="select five floatLeft twelve-mobile">
                <select ng-model="search.periode"
                        ng-options="getI18nPeriode(periode) for periode in selectedEleve.classe.periodes.all">
                    <option class="header-opt" disabled value="">[[translate('viescolaire.utils.periode')]]</option>
                </select>
            </label>
            <label class="select five right-magnet twelve-mobile">
                <select ng-model="search.matiere"
                        ng-options="matiere.name for matiere in matieres.all | unique:'name'">
                    <option value="" class="header-opt">[[translate('viescolaire.utils.subject')]]</option>
                </select>
            </label>
            </div>
                <div class="content-box-accueil--table">
                    <div class="content-box-accueil--table--header row">
                        <div class="two cell">
                            <h5><i18n>date</i18n></h5>
                        </div>
                        <div class="five cell">
                            <h5><i18n>viescolaire.utils.subject</i18n></h5>
                        </div>
                        <div class="two cell">
                            <h5><i18n>viescolaire.evaluation.note</i18n></h5>
                        </div>
                        <div class="three cell competence-text-overflow">
                            <h5><i18n>evaluations.competences.title</i18n></h5>
                        </div>
                    </div>
                    <div class="content-box-accueil--table--content"
                         style="max-height: 220px; overflow-y: scroll!important;">
                        <div  ng-repeat="devoir in devoirs.all | orderBy:'-date' | customSearchFilters:search "
                              class="row">
                            <a ng-href="#/devoir/[[devoir.id]]">
                                <div class="two cell competence-text-overflow"
                                     tooltip="[[devoir.name]] - [[getTeacherDisplayName(devoir.owner)]]">
                                    [[getDateFormated(devoir.date)]]
                                </div>
                                <div class="five cell competence-text-overflow"
                                     tooltip="[[devoir.name]] - [[getTeacherDisplayName(devoir.owner)]]">
                                    [[getLibelleMatiere(devoir.id_matiere)]]
                                </div>
                                <div ng-if="devoir.annotation === undefined && devoir.note !== undefined"
                                     class="two center cell competence-text-overflow"
                                     tooltip="[[devoir.name]] - [[getTeacherDisplayName(devoir.owner)]]">
                                    [[devoir.note]]
                                </div>
                                <div ng-if="devoir.annotation === undefined && devoir.note === undefined"
                                     class="two center cell competence-text-overflow"
                                     tooltip="[[devoir.name]] - [[getTeacherDisplayName(devoir.owner)]]">
                                    &nbsp;
                                </div>
                                <div ng-if="devoir.annotation !== undefined"
                                     class="two center cell competence-text-overflow"
                                     tooltip="[[devoir.name]] - [[getTeacherDisplayName(devoir.owner)]]">
                                    [[devoir.annotation.libelle_court]]
                                </div>
                                <div ng-if="devoir.competences !== undefined"
                                     class="three inline-block align-center align-top">
                                    <proportion-suivi-competence evaluations="devoir.competences"
                                                                 filter="suiviFilter" user="me"
                                                                 is-classe="false"
                                                                 map-couleurs="mapCouleurs"
                                                                 map-lettres="mapLettres">
                                    </proportion-suivi-competence>
                                </div>
                                <div ng-if="devoir.competences === undefined"
                                     class="three inline-block align-center align-top"
                                     tooltip="[[devoir.name]] - [[getTeacherDisplayName(devoir.owner)]]">
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </article>
</section>
