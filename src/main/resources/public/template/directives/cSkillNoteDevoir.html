<!--
  ~ Copyright (c) Région Hauts-de-France, Département de la Seine-et-Marne, CGI, 2016.
  ~     This file is part of OPEN ENT NG. OPEN ENT NG is a versatile ENT Project based on the JVM and ENT Core Project.
  ~
  ~   This program is free software; you can redistribute it and/or modify
  ~   it under the terms of the GNU Affero General Public License as
  ~   published by the Free Software Foundation (version 3 of the License).
  ~   For the sake of explanation, any module that communicate over native
  ~   Web protocols, such as HTTP, with OPEN ENT NG is outside the scope of this
  ~   license and could be license under its own terms. This is merely considered
  ~   normal use of OPEN ENT NG, and does not fall under the heading of "covered work".
  ~
  ~   This program is distributed in the hope that it will be useful,
  ~   but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
  -->

<span autofocus ng-if="indexRow === 0 && indexColumn ===0 && !currentDevoir.is_evaluated && !(currentDevoir.endSaisie && !hasRight)"
             ng-disabled="(currentDevoir.endSaisie && !hasRight)"
             ng-click="switchColor()"
             tabindex="0"
             ng-focus="focus(competence.id_competence, true); getEleveInfo(eleve);"
             ng-blur="blur(competence.id_competence, false); saveCompetence()"
             ng-keydown="keyColor($event)"
             ng-mouseleave="saveCompetence()"
             ng-blur="saveCompetence()"
             ng-init="init()"
             class="competence-eval rounded" style="background-color:[[(mapCouleurs[competence.evaluation])]]"
             ng-class="{compselected : highlightCompetenceNote()}">
<span style="color:[[(mapCouleurs[competence.evaluation])]]; invert(100%); -webkit-filter: invert(100%);" class="lettreNiv">[[(mapLettres[competence.evaluation])]]</span>
</span>
<span ng-if="(indexRow !== 0 || indexColumn !==0 || currentDevoir.is_evaluated) && !(currentDevoir.endSaisie && !hasRight)"
      ng-disabled="(currentDevoir.endSaisie && !hasRight)"
      ng-click="switchColor()"
      tabindex="0"
      ng-focus="focus(competence.id_competence, true); getEleveInfo(eleve);"
      ng-blur="blur(competence.id_competence, false); saveCompetence()"
      ng-keydown="keyColor($event)" ng-mouseleave="saveCompetence()"
      ng-init="init()"
      class="competence-eval rounded"
      style="background-color:[[(mapCouleurs[competence.evaluation])]]"
      ng-class="{compselected : highlightCompetenceNote()}">
<span style="color:[[(mapCouleurs[competence.evaluation])]]; invert(100%); -webkit-filter: invert(100%);" class="lettreNiv">[[(mapLettres[competence.evaluation])]]</span>
</span>
<span autofocus ng-if="indexRow === 0 && indexColumn ===0 && !currentDevoir.is_evaluated && (currentDevoir.endSaisie && !hasRight)"
      tabindex="0"
      ng-focus="focus(competence.id_competence, true); getEleveInfo(eleve);"
      ng-blur="blur(competence.id_competence, false);"
      ng-init="init()"
      class="competence-eval rounded"
      style="background-color:[[(mapCouleurs[competence.evaluation]) ]]"
      ng-class="{compselected : highlightCompetenceNote()}">
<span style="color:[[(mapCouleurs[competence.evaluation])]]; invert(100%); -webkit-filter: invert(100%);" class="lettreNiv">[[(mapLettres[competence.evaluation])]]</span>
</span>
<span ng-if="(indexRow !== 0 || indexColumn !==0 || currentDevoir.is_evaluated) && (currentDevoir.endSaisie && !hasRight)"
      tabindex="0" ng-focus="focus(competence.id_competence, true);getEleveInfo(eleve);" ng-blur="blur(competence.id_competence, false); "    ng-init="init()"
      class="competence-eval rounded" style="background-color:[[(mapCouleurs[competence.evaluation])]]"
      ng-class="{compselected : highlightCompetenceNote()}">
<span style="color:[[(mapCouleurs[competence.evaluation])]]; invert(100%); -webkit-filter: invert(100%);" class="lettreNiv">[[(mapLettres[competence.evaluation])]]</span>
</span>