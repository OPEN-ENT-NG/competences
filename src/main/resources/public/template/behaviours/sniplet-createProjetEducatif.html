<div class="evaluations-sniplet">

    <!-- ////      Création EPI      //// -->

    <div ng-show="selected.EPI">

        <div class="header">
            <h2>Ajouter un EPI</h2>
        </div>

        <div class="six cell twelve-mobile">
            <div class="twelve cell twelve-mobile beFlex">
                <label class="select">
                    <select ng-model="theme"
                            ng-change="dataELem.theme = theme.id"
                            ng-options="theme.libelle for theme in themes">
                        <option class="header-opt" value="">[[translate('viescolaire.utils.themes')]]</option>
                    </select>
                </label>

                <h3 data-ng-click="showAddtheme = true" class="inline-block">
                    <i class="plus marginLeft"></i>
                </h3>
            </div>
            <div class="twelve cell twelve-mobile marginTop">
                <div class="five cell twelve-mobile">
                    <input ng-model="dataELem.libelle"
                           ng-maxlength="150"
                           maxlength="150"
                           type="text" placeholder="Intitulé"/>
                </div>
            </div>
        </div>
        <div ng-show="showAddtheme" class="five cell twelve-mobile marginLeft2">
            <div class="beFlex-Justify">
                <p class="marginTopZero">Ajouter thème EPI</p>
                <i data-ng-click="showAddtheme = false" class="close-2x blueCross"></i>
            </div>
            <input type="text" placeholder="Saisir code" ng-model="thematique.code" ng-maxlength="50" maxlength="50"/>
            <input type="text" placeholder="Saisie intitulé" ng-model="thematique.libelle" ng-maxlength="150" maxlength="150"/>
            <button class="right-magnet" ng-click="createThematique(thematique)">
                <i18n>evaluations.add</i18n>
            </button>
        </div>

        <div class="twelve cell twelve-mobile">
            <h4 class="two cell marginBottomZero">
                <i18n>viescolaire.utils.description</i18n>
            </h4>
            <textarea ng-model="dataELem.description"
                      ng-maxlength="600" maxlength="600"
                      placeholder="Saisir la description" name="saisie description"></textarea>
        </div>
        <div class="twelve cell twelve-mobile selet-blocks">
            <div class="five cell twelve-mobile">
                <label class="select">
                    <select ng-model="search.enseignant"
                            ng-options="enseignant.displayName for enseignant in enseignants.all"
                            ng-change="syncMatieresEnseignant(search.enseignant)">
                        <option class="header-opt" value="">[[translate('viescolaire.utils.teacher')]]</option>
                    </select>
                </label>
            </div>
            <div class="five cell twelve-mobile marginLeft">
                <label class="select"
                       ng-class="{disabled : search.enseignant == null || search.enseignant == undefined}">
                    <select ng-model="search.matiere"
                            ng-change="pushData(search.enseignant, search.matiere)"
                            ng-options="matiere.name for matiere in matieres"
                            ng-disabled="search.enseignant == null">
                        <option class="header-opt" value="">[[translate('viescolaire.utils.subject')]]</option>
                    </select>
                </label>
            </div>
            <div class="row">
                <label ng-repeat="ens_mat in dataELem.ens_mat" class="chip multiselect all" ng-class="{ selected: element.selected }">
                    <span><i18n>[[ens_mat.ens.displayName]] / [[ens_mat.mat.name]]</i18n></span>
                    <input type="checkbox" ng-model="element.selected" ng-change="openToggle(data.ens_mat)" />
                </label>
            </div>

        </div>

        <div class="twelve cell twelve-mobile">
            <div class="five cell twelve-mobile">
                <label class="select">
                    <select ng-model="search.classe"
                            ng-change="pushData(search.classe)"
                            ng-options="classe as classe.name group by classe.type_groupe_libelle for classe in classes.all | orderBy:['type_groupe_libelle','name']">
                        <option class="header-opt" value="">[[translate('viescolaire.utils.class.groupe')]]</option>
                    </select>
                </label>
                <div class="row">
                    <label ng-repeat="classe in dataELem.classes" class="chip multiselect all">
                        <span><i18n>[[classe.name]]</i18n></span>
                    </label>
                </div>
            </div>
        </div>
        <div class="twelve cell twelve-mobile" ng-if="modifElem">
            <button class="right-magnet"
                    ng-click="updateElement()"
                    ng-disabled="theme == null || dataELem.libelle == null || search.enseignant < 2 || search.matiere == null || search.classe == null">
                <i18n>evaluations.edit</i18n>
            </button>
        </div>
        <div class="twelve cell twelve-mobile" ng-if="!modifElem">
            <button class="right-magnet"
                    ng-click="createElementBilanPeriodique()"
                    ng-disabled="theme == null || data.libelle == null || data.ens_mat.length < 2 || search.matiere == null || search.classe == null">
                <i18n>evaluations.add</i18n>
            </button>
        </div>

        <section class="toggle-buttons"
                 ng-show="selectedChips.length > 0">
            <div class="toggle">
                <div class="row">
                    <button class="cell"
                            ng-click="deleteEnsMat(selectedChips)">
                        <span><i18n>item.delete</i18n></span>
                    </button>
                </div>
            </div>
        </section>

    </div>


    <!-- ////      Création AP      //// -->


    <div ng-show="selected.AP">

        <div class="header">
            <h2>Ajouter un AP</h2>
        </div>

        <div class="six cell twelve-mobile">
            <div class="twelve cell twelve-mobile marginTop">
                <div class="five cell twelve-mobile">
                    <input ng-model="dataELem.libelle"
                           type="text" placeholder="Intitulé"/>
                </div>
            </div>
        </div>

        <div class="twelve cell twelve-mobile">
            <h4 class="two cell marginBottomZero">
                <i18n>viescolaire.utils.description</i18n>
            </h4>
            <textarea ng-model="dataELem.description"
                      placeholder="Saisir la description" name="saisie description"
                      ng-maxlength="600" maxlength="600"></textarea>
        </div>
        <div class="twelve cell twelve-mobile selet-blocks">
            <div class="five cell twelve-mobile">
                <label class="select">
                    <select ng-model="search.enseignant"
                            ng-options="enseignant.displayName for enseignant in enseignants.all"
                            ng-change="syncMatieresEnseignant(search.enseignant)"
                            ng-click="">
                        <option class="header-opt" value="">[[translate('viescolaire.utils.teacher')]]</option>
                    </select>
                </label>
            </div>
            <div class="five cell twelve-mobile marginLeft">
                <label class="select"
                       ng-class="{disabled : search.enseignant == null || search.enseignant == undefined}">
                    <select ng-model="search.matiere"
                            ng-change="pushData(search.enseignant, search.matiere)"
                            ng-options="matiere.name for matiere in matieres"
                            ng-disabled="search.enseignant == null">
                        <option class="header-opt" value="">[[translate('viescolaire.utils.subject')]]</option>
                    </select>
                </label>
            </div>
        </div>
        <div class="twelve cell twelve-mobile">
            <div class="five cell twelve-mobile">
                <label class="select">
                    <select ng-model="search.classe"
                            ng-change="pushData(search.classe)"
                            ng-options="classe as classe.name group by classe.type_groupe_libelle for classe in classes.all | orderBy:['type_groupe_libelle','name']">
                        <option class="header-opt" value="">[[translate('viescolaire.utils.class.groupe')]]</option>
                    </select>
                </label>
            </div>
        </div>
        <div class="twelve cell twelve-mobile" ng-if="modifElem">
            <button class="right-magnet"
                    ng-click="updateElement()"
                    ng-disabled="dataELem.libelle || search.enseignant < 2 || search.matiere == null || search.class == null">
                <i18n>evaluations.edit</i18n>
            </button>
        </div>
        <div class="twelve cell twelve-mobile" ng-if="!modifElem">
            <button class="right-magnet"
                    ng-click="createElementBilanPeriodique()"
                    ng-disabled="dataELem.libelle == null || dataELem.ens_mat.length < 2 || search.matiere == null || search.classe == null">
                <i18n>evaluations.add</i18n>
            </button>
        </div>
    </div>


    <!-- ////      Création Parcours      //// -->

    <div ng-show="selected.parcours">

        <div class="header">
            <h2>Ajouter un parcours</h2>
        </div>

        <div class="six cell twelve-mobile">
            <div class="twelve cell twelve-mobile beFlex">
                <label class="select">
                    <select ng-model="theme"
                            ng-change="dataELem.theme = theme.id"
                            ng-options="theme.libelle for theme in themes">
                        <option class="header-opt" value="">[[translate('viescolaire.utils.themes')]]</option>
                    </select>
                </label>
            </div>
            <div class="twelve cell twelve-mobile">
                <div class="five cell twelve-mobile">
                    <label class="select">
                        <select ng-model="search.classe"
                                ng-change="pushData(search.classe)"
                                ng-options="classe as classe.name group by classe.type_groupe_libelle for classe in classes.all | orderBy:['type_groupe_libelle','name']">
                            <option class="header-opt" value="">[[translate('viescolaire.utils.class.groupe')]]</option>
                        </select>
                    </label>
                </div>
            </div>
        </div>
        <div class="twelve cell twelve-mobile" ng-if="modifElem">
            <button class="right-magnet"
                    ng-click="updateElement()"
                    ng-disabled="themes == null || search.class == null">
                <i18n>evaluations.edit</i18n>
            </button>
        </div>
        <div class="twelve cell twelve-mobile" ng-if="!modifElem">
            <button class="right-magnet"
                    ng-click="createElementBilanPeriodique()"
                    ng-disabled="theme == null || search.classe == null">
                <i18n>evaluations.add</i18n>
            </button>
        </div>

    </div>

</div>