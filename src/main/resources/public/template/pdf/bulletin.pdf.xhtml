<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr">

<head>
    <title>{{title}}</title>
    <style type="text/css">

        body {
            font-family: "Calibri", sans-serif;
            align-content: center;
            padding: 0;
            margin: 0;
        }

        .page {
            page-break-after: always;
        }
        .paddingFifty {
            padding-left : 20px;
            padding-right : 20px;
        }

        .page:last-child{
            page-break-after: avoid;
        }

        #education {
            width: auto;
            height: 90px;
            margin-bottom: 20px;
            margin-left: -2px;
        }

        h1 {
            margin-top: 20px;
            padding: 5px;
            text-align: center;
            color: #FFFFFF;
            font-weight: bold;
            font-size: 20px;
            width: 100%;
        }

        h1[color="blue"] {
            background-color: #009ddd;
        }

        h1[color="orange"] {
            background-color: #ff9027;
        }

        h1[color="green"] {
            background-color: #b0d243;
        }

        td {
            background-color: #EFF7FC;
            margin: 4px;
            padding: 10px;
        }

        table {
            width: 100%;
            font-size: 12px;
            text-align: center;
        }

        .start { page-break-before : left }

        table tr:nth-child(odd) td {
            background-color: #E2F0FA;
        }

        table tr:nth-child(even) td {
            background-color: #EFF7FC;
        }
        table tr:first-child td {
            background-color: #e2f3fb;
        }
        table tr:first-child td:first-child {
            visibility: hidden;
        }
        .secondSuivi {
            width: 50%!important;
        }
        .thirdSuivi {
        {{#getProgramElements}}
        width: 50% !important;
        {{/getProgramElements}}
        {{^getProgramElements}}
        width: 70% !important;
        {{/getProgramElements}}
        }

        .blank_row {
            height: 20px !important;
        }

        .eleve {
            padding: 5px;
            background-color: #e2f3fb;
            min-height : 60px;
            font-size: 14px;
        }

        .eleve > div {
            margin: 2px 1px;
            text-align: center;
        }
        .responsable {
            display:inline-block;
            margin-left: 3px;
            padding: 10px;
            width: 44%;
            float: right;
            font-size: 14px;
            min-height : 60px;
        }

        .responsable > div {
            margin-left: 30px;
            margin-right: 0px;
            font-weight: bold;
            font-size: 14px;
            text-align: left;
        }
        .left-align {
            text-align: left;
            font-weight: normal;
        }

        .synthese {
            margin-top: 10px;
            background-color: #ffd0a0 !important;
            padding: 10px;
            visibility: visible !important;
        }
        .lefCom {
            text-align: left;
            font-weight: normal;
            font-size: small;
            color: black;
        }

        .leftCommunication {
            margin-top: 0%!important;
            padding-top: 5px;
            width: 67.5% !important;
            height: 45px !important;
        }
        .rightCommunication {
            padding-top : 4px!important;
            vertical-align: top;
            background-color: #ffd0a0 !important;
            text-align: right;
        }
        .structure {
            display: inline-block;
            height: 90px;
            font-size: small;
            font-family: "Calibri", sans-serif;
        }
        .structure > p {
            margin: 4px;
            margin-left : 5px;
            margin-top : 0px;
        }
        @page{
            size : A4 ;
            margin-top: 30px;
            margin-left : 1px;
            margin-right : 1px;

        }
        .firstProjet {
            width: 35%;
            visibility: visible !important;
            background-color: #E2F0FA;
            padding-bottom: 1px;
            padding-top: 1px;
            max-height: 43px!important;
            overflow: hidden;
        }
        .secondProjet {
            text-align:left;
            max-height: 42px!important;
            overflow: hidden;
            padding-bottom: 1px;
            padding-top: 1px;
        }
        .projets tr:nth-child(even) td {
            background-color: #EFF7FC !important;
        }
        .projets tr:first-child td {
            background-color: #e2f3fb !important;
        }
        .header td {
            font-size: x-small;
            padding-left: 2px;
            padding-right: 2px;
        }
        .onePadding {
            padding: 1px !important;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .emptyClass {
            padding-top: 1px;
            padding-bottom: 1px;
            padding-right: 2px;
        }

    </style>
</head>
<body>

{{#eleves}}
<div class="page">

    <div style= "height: 130px;" class="paddingFifty">
        <img id="education" style="float:left;" src="img/education_nationale.png" alt="Logo"/>
        <div class="structure">
            {{#structureLibelle}}
            <p style="font-weight: bold">{{academy}}</p>

            <p style="font-weight: bold">{{name}}</p>
            <p>{{address}}</p>
            <p>{{town}}</p>
            <p>{{phone}}</p>
            <p>{{email}}</p>
            {{/structureLibelle}}
        </div>
    </div>

    <div class="paddingFifty">
        {{^getResponsable}}
        <div class="eleve">
            <div style="font-size: small; font-weight: bold">{{schoolYear}}</div>
            <div style="font-size: small;">{{bilanCycle}}&nbsp;-&nbsp; {{periode}}</div>
            <div style="font-size: 18px; font-weight: bold">{{firstName}} &nbsp; {{lastName}}  </div>
            <div style="font-size: small;">{{bornAt}} {{birthDateLibelle}}</div>
            <div style="font-size: small;">   {{headTeacherLibelle}}
                {{#headTeachers}}
                {{civility}} &nbsp; {{initial}} {{name}} <br/>
                {{/headTeachers}}
            </div>
            <div style="font-size: small;">{{classeOf}} {{classeName}}</div>
        </div>
        {{/getResponsable}}
        {{#getResponsable}}
        <div style="display: inline-block;width: 50%;" class="eleve">
            <div style="font-size: small; font-weight: bold">{{schoolYear}}</div>
            <div style="font-size: small;">{{bilanCycle}}&nbsp;-&nbsp; {{periode}}</div>
            <div style="font-size: 18px; font-weight: bold">{{firstName}} &nbsp; {{lastName}}  </div>
            <div style="font-size: small;">{{bornAt}} {{birthDateLibelle}}</div>
            <div style="font-size: small;">   {{headTeacherLibelle}}
                {{#headTeachers}}
                {{civility}}&nbsp; {{initial}} {{name}}
                {{/headTeachers}}
            </div>
            <div style="font-size: small;">{{classeOf}} {{classeName}}</div>
        </div>
        <div class="responsable">
            {{#responsableLibelle}}
            <div>{{.}}</div><br/>
            {{/responsableLibelle}}
        </div>
        {{/getResponsable}}
    </div>

    {{#hasSuiviAcquis}}
    <h1 color="blue">{{suiviAcquisLibelle}}</h1>
    <table class="suiviDesAcquis paddingFifty">

        <tr class="header">
            <td class="firstSuivi">&nbsp;</td>
            {{#getProgramElements}}
            <td class="secondSuivi">{{suiviElementLibelle}}</td>
            {{/getProgramElements}}
            <td class="thirdSuivi">{{suiviAcquisitionLibelle}}</td>
            {{#getMoyenneEleve}}
            <td class="fourthSuivi">{{moyenneStudentLibelle}}</td>
            {{/getMoyenneEleve}}
            {{#getMoyenneClasse}}
            <td class="fifthSuivi">{{moyenneClasseLibelle}}</td>
            {{/getMoyenneClasse}}
            {{#getPositionnement}}
            <td class="sixthSuivi">{{positionementLibelle}}</td>
            {{/getPositionnement}}
        </tr>

        {{#suiviAcquis}}
        <tr>
            <td class="left-align emptyClass">
                <span style="font-size: small; font-weight: bold">{{libelleMatiere}}</span><br/>
                {{#teachers}}
                <span style="color: black; font-size: smaller;">{{initial}}.{{name}}</span>
                {{/teachers}}
            </td>
            {{#getProgramElements}}
            <td style="text-align: left; word-wrap:break-word;{{{elementsProgrammeStyle}}}" class="secondSuivi onePadding">
                {{elementsProgramme}}</td>
            {{/getProgramElements}}
            <td style="text-align: left;word-wrap:break-word; {{{appreciationStyle}}}" class="thirdSuivi onePadding">
                {{appreciation}}</td>
            {{#getMoyenneEleve}}
            <td style="font-size: x-small; font-weight: bold" class="fourthSuivi onePadding">{{moyenneEleve}}</td>
            {{/getMoyenneEleve}}
            {{#getMoyenneClasse}}
            <td style="font-size: x-small;" class="fifthSuivi onePadding">{{moyenneClasse}}</td>
            {{/getMoyenneClasse}}
            {{#getPositionnement}}
            <td style="font-size: x-small; font-weight: bold" class="sixthSuivi onePadding">{{positionnement}}</td>
            {{/getPositionnement}}
        </tr>
        {{/suiviAcquis}}
    </table>
    <span class="paddingFifty" style="font-size: xx-small ;position: relative;top: 10px;"> {{footer}}</span>
    {{/hasSuiviAcquis}}

    <div class="start">
        {{#showBilanPerDomaines}}
        <h4 class="paddingFifty">{{bilanPerDomainesLibelle}}</h4>
        {{#hasGraphPerDomaine}}
        <img src="{{graphPerDomaine}}"
             style="margin-left: 40px;display: block; width: 700px; height: 218px;"
             alt="graphPerDomaine"/>
        {{/hasGraphPerDomaine}}
        {{/showBilanPerDomaines}}
        {{#showProjects}}
        {{#projects}}
        {{#hasProject}}
        <h4 class="paddingFifty">{{libelle}}</h4>
        <table class="projets paddingFifty">
            {{#elements}}
            {{#hasCommentaire}}
            <tr>
                <td class="firstProjet left-align">
                    {{#hasLibelle}}
                    {{#libelle}}
                    <span style="font-size: small; font-weight: bold">{{libelle}}</span><br/>
                    {{/libelle}}
                    {{/hasLibelle}}
                    {{#theme}}
                    {{#hasLibelle}}
                    <span style="font-size: smaller;">{{libelle}}</span><br/>
                    {{/hasLibelle}}
                    {{^hasLibelle}}
                    <span style="font-size: small; font-weight: bold">{{libelle}}</span><br/>
                    {{/hasLibelle}}
                    {{/theme}}
                    {{#intervenantsMatieres}}

                    <span style="color: black; font-size: xx-small !important;">{{#intervenant}}
                      * {{displayName}}-
                    {{/intervenant}}
                </span>
                    <span style="color: black; font-size: x-small !important;">{{#matiere}}
                    {{name}}
                    {{/matiere}}
                </span><br/>
                    {{/intervenantsMatieres}}
                </td>
                <td class="secondProjet" style="{{{commentaireStyle}}}">{{commentaire}}</td>
            </tr>
            {{/hasCommentaire}}
            {{/elements}}
        </table>
        {{/hasProject}}
        {{/projects}}
        {{/showProjects}}


        <h1 color= "green"> {{bilanAcquisitionLibelle}}</h1>

        <div class="paddingFifty">
            <div style="background-color: #eef4d7 !important; min-height: 20px; font-size: small;" class="synthese">
                {{syntheseBilanPeriodque}}
            </div>
        </div>
        <div>
            <h1 color="orange">{{communicationLibelle}}</h1>
            <div class="paddingFifty">
                <table>
                    <tr>
                        <td class="synthese leftCommunication">
                            <div  class="lefCom" style="{{appreciationCPEStyle}}">
                                <span style="font-size: small !important;">{{viescolaireLibelle}}</span>
                                <span style="font-weight: bold">
                                {{appreciationCPE}}
                                </span>
                            </div>
                            <br/>


                            <div class="lefCom" >
                                {{#evenements}}
                                <div>
                                    {{.}}
                                </div>
                                {{/evenements}}
                            </div>
                        </td>
                        <td  class="rightCommunication">

                            <span >
                                {{communicationHeaderRightFirst}}
                            </span> <br/>
                            <span>
                                {{communicationHeaderRightSecond}}
                            </span>

                            <br/>
                            <br/>
                        </td>
                    </tr>
                </table>


                {{#showFamily}}

                <div class="synthese" style="height: 60px; padding: 5px">
                    <span style="float: left; margin-left: 5px; margin-top: 0px !important;font-size: small;">{{familyVisa}}</span>

                    <span style="float: right;margin-right: 5px; text-align:right;margin-top: 0px;font-size: small;">{{signature}}</span>
                </div>

                {{/showFamily}}
            </div>
        </div>
    </div>
</div>
{{/eleves}}

</body>
</html>
