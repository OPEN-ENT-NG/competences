<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright (c) Région Hauts-de-France, Département de la Seine-et-Marne, CGI, 2016.
  ~     This file is part of OPEN ENT NG. OPEN ENT NG is a versatile ENT Project based on the JVM and ENT Core Project.
  ~
  ~   This program is free software; you can redistribute it and/or modify
  ~   it under the terms of the GNU Affero General Public License as
  ~   published by the Free Software Foundation (version 3 of the License).
  ~   For the sake of explanation, any module that communicate over native
  ~   Web protocols, such as HTTP, with OPEN ENT NG is outside the scope of this
  ~   license and could be license under its own terms. This is merely considered
  ~   normal use of OPEN ENT NG, and does not fall under the heading of "covered work".
  ~
  ~   This program is distributed in the hope that it will be useful,
  ~   but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
  -->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="fr" lang="fr">
<head>
    <title>Export Evaluation</title>
    <style type="text/css">

        body {
            font-family: "Calibri", sans-serif;
            align-content: center;
        }

        table {
            width: 100%;
            font-size: 10px;
            border-collapse: collapse;
            table-layout: fixed;
            page-break-inside: auto
        }

        tr {
            page-break-inside: avoid;
            page-break-after: auto;
        }

        td {
            border: solid 1px black;
            word-wrap: break-word;
            vertical-align: middle;
        }

        .header {
            margin-bottom: 10px;
        }

        .header td {
            padding: 5px;
        }

        .body > table > tr > td:first-child {
            width: 66.66%;
            padding-left: 5px;
        }

        .competenceHeader {
            text-indent : 20px;
        }

        img {
            width: 10px;
            height: 10px;
        }

        .barEvaluation {
            width: 100%;
            height: 100%;
            margin: auto;
            background-color: black;
        }

        .barEvaluation td {
            margin: auto;
            padding: 0px;
        }

        .subDiv {
            margin: 1px;
        }

        .textCenter {
            text-align: center;
        }

        .dashed {
            border-right: dashed 1px;
        }

        .maitrise * {
            vertical-align: middle;
        }

        .bold {
            font-weight: bold;
        }

        @page {
            size: landscape;

        }

        .white {
            background-color: #FFFFFF;
        }
        .grey {
            background-color: #555555;
        }
        .red {
            background-color: #E13A3A;
        }
        .orange {
            background-color: #FD8401;
        }
        .yellow {
            background-color: #ECBE30;
        }
        .green {
            background-color: #46BFAF;
        }

        .page {
            page-break-after: always;
            padding: 20px;
        }

        .page:last-child{
            page-break-after: avoid;
        }

    </style>
</head>
<body>
{{#eleves}}
<div class="page">
    {{# header }}
    <div class="header">
        <table>
            <tr> {{# left }}
                <td class="dashed">

                    <span class="bold">{{ nom }}</span><br/>
                    <span class="bold">Matière(s) : </span>{{ matiere }}<br/>
                    <span class="bold">Classe : </span>{{ classe }}<br/>
                    <span class="bold">Période : </span>{{ periode }}<br/>

                </td>
                {{/ left }}
                <td>
                    {{# right }}

                    <span class="maitrise">
                        {{# text }}
                        {{ visu }}
                        {{/ text }}
                        {{^ text }}
                    <img src="img/cercle/{{ visu }}.png" alt=""/>
                        {{/ text }}
                        {{ libelle }}
                    </span><br/>
                    {{/ right }}
                </td>
            </tr>
        </table>
    </div>
    {{/ header }}
    {{# body }}
    <div class="body">
        <table>

            {{# header}}
            <tr>
                <td class="textCenter">
                    {{ left }}
                </td>
                <td class="textCenter">
                    {{ right }}
                </td>
            </tr>
            {{/ header}}

            {{# body }}
            <tr>
                <td>
                    <span class="bold">{{ domainHeader }}</span>
                </td>
                <td>&nbsp;</td>
            </tr>

            {{# domainBody }}
            <tr>
                <td class="competenceHeader">
                    {{ header }}
                </td>
                <td>
                    <table class="barEvaluation textCenter">
                        <tr>
                            {{# competenceNotes }}
                            <td style="width: {{ width }}%;">
                                <div class="subDiv {{ color }}">{{ number }}</div>
                            </td>
                            {{/ competenceNotes }}
                        </tr>
                    </table>
                </td>
            </tr>
            {{/ domainBody }}
            {{/ body }}
        </table>
    </div>
    {{/ body }}
</div>
{{/eleves}}
</body>
</html>
