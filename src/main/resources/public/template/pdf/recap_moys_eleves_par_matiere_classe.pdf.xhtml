<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr">

<head>
    <title>Tableau des moyennes par matière des élèves</title>
    <style type="text/css">

        body {
            font-family: "Calibri", sans-serif;
            align-content: center;
        }

        table {
            border-collapse:collapse;
            width: 100%;
            font-size: 12px;
            text-align: center;
        }

        table td:first-child{
            max-width: 300px;
            padding-left: 5px;
            text-align: left;

        }

        th:first-child{
            max-width: 300px;
            padding-left: 5px;
        }

        tr{
            page-break-inside: avoid;
            page-break-after: auto;
        }

        td, th {
            max-width:70px;
            border: solid 1px black;
        }
        td{
            vertical-align: middle;
        }
        th{
            word-wrap: break-word;
        }
        .bold {
            font-weight: bold;
        }
        @page{
            size: landscape;
            margin: 5px;
            padding: 5px;

        }

        .mat{
            font-size: 10px;
        }
        .prof{
            max-width:70px;
            font-size: 10px;
            text-align: center;
        }
        .left{
            text-align: left;
        }
        .right{
            text-align: right;
        }

        .margin-top{
            margin-top: 0.5em;
        }
        .margin-bottom{
            margin-bottom: 0.5em;
        }
        caption{
            font-size:18px;
            padding-bottom:10px;
        }




    </style>
</head>

<body>
<h4 class="margin-top">Classe : <span>{{nameClass}}</span></h4>
<h4 class="margin-top margin-bottom">Période : <span>{{periode}}</span></h4>
<table>
    <caption>Tableau des moyennes des élèves de la classe</caption>
    <thead id="repeated-top">
    <tr>
        <th>
            <div class="right">Matières <br/>
                Enseignants</div><br/>

            <div class="left">Elèves</div>
        </th>
        {{#matieres}}
        <th style="vertical-align: top" >
            <div class="mat">{{name}}</div>
            {{#teachers}}
            <span class="prof">{{displayName}}</span>
            {{/teachers}}

        </th>
        {{/matieres}}
        {{#withMoyGeneraleByEleve}}
        <th>Moy.</th>
        {{/withMoyGeneraleByEleve}}
    </tr>
    </thead>
    <tbody>
    {{#eleves}}
    <tr>
        <td>{{lastName}} {{firstName}}</td>
        {{#eleveMoyByMat}}
        <td>{{moyenneByMat}}</td>
        {{/eleveMoyByMat}}
        {{#withMoyGeneraleByEleve}}
        <td>{{moyGeneraleEleve}}</td>
        {{/withMoyGeneraleByEleve}}
    </tr>
    {{/eleves}}
    </tbody>
    <tfoot>
    <tr>
        <td><strong>Moyenne</strong></td>
        {{#matieres}}
        <td>{{moyClass}}</td>
        {{/matieres}}
        {{#withMoyGeneraleByEleve}}
        <td>{{moyClassAllMat}}</td>
        {{/withMoyGeneraleByEleve}}
    </tr>
    {{#withMoyMinMaxByMat}}
    <tr>
        <td><strong>Moyenne Min.</strong></td>
        {{#matieres}}
        <td>{{moyMinClass}}</td>
        {{/matieres}}
        {{#withMoyGeneraleByEleve}}
        <td>{{moyMinClassAllMat}}</td>
        {{/withMoyGeneraleByEleve}}
    </tr>
    <tr>
        <td><strong>Moyenne Max.</strong></td>
        {{#matieres}}
        <td>{{moyMaxClass}}</td>
        {{/matieres}}
        {{#withMoyGeneraleByEleve}}
        <td>{{moyMaxClassAllMat}}</td>
        {{/withMoyGeneraleByEleve}}
    </tr>
    {{/withMoyMinMaxByMat}}
    </tfoot>
</table>
</body>
</html>