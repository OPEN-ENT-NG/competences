<!--
  ~ Copyright (c) Région Hauts-de-France, Département de la Seine-et-Marne, CGI, 2016.
  ~     This file is part of OPEN ENT NG. OPEN ENT NG is a versatile ENT Project based on the JVM and ENT Core Project.
  ~
  ~   This program is free software; you can redistribute it and/or modify
  ~   it under the terms of the GNU Affero General Public License as
  ~   published by the Free Software Foundation (version 3 of the License).
  ~   For the sake of explanation, any module that communicate over native
  ~   Web protocols, such as HTTP, with OPEN ENT NG is outside the scope of this
  ~   license and could be license under its own terms. This is merely considered
  ~   normal use of OPEN ENT NG, and does not fall under the heading of "covered work".
  ~
  ~   This program is distributed in the hope that it will be useful,
  ~   but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
  -->

<script type="text/ng-template"  id="tree_items_renderer.html">
  <div
          class="margin-top-1em twelve cell " ng-if="domaine.niveau === 1"
          ng-click="domaine.OpenDom = !domaine.OpenDom" ng-init="domaine.OpenDom = false">

    <label ng-if="domaine.competences.all.length > 0" class="checkbox">
      <input type="checkbox"
             ng-disabled="!newItem.ismanuelle"
             ng-change="selectDomaine(domaine);"
             ng-model="domaine.selected">
      <span></span>
    </label> [[domaine.codification]] - [[domaine.libelle]]
  </div>
  <div ng-class="{'openedSectionDom' : domaine.OpenDom}"
       ng-if="domaine.competences.all.length > 0"
       class="twelve cell margin-left-5%"
       style='height: auto;'>

    <div
            class="margin-sous-competences"
            ng-if="domaine.niveau > 1 && domaine.competences.all.length > 0"
            ng-click="domaine.OpenSousDom = !domaine.OpenSousDom"
            ng-init="domaine.OpenSousDom = false">

      <label class="checkbox">
        <input type="checkbox"
               ng-disabled="!newItem.ismanuelle"
               ng-change="selectDomaine(domaine);"
               ng-model="domaine.selected">
        <span></span>
      </label> [[domaine.codification]] - [[domaine.libelle]]
    </div>

  </div>

  <div ng-repeat="domaine in domaine.domaines.all" ng-include="'tree_items_renderer.html'">
  </div>
</script>
<section class="row twelve-mobile lightbox-creation-competences">
  <div class="three cell twelve-mobile element">
    <i18n>competence.createCompetence.domaine</i18n>
  </div>
</section>
<section class="row twelve-mobile lightbox-creation-competences">
  <div class="content-suivi-eleve bilan-suivi-eleve margin-left-10p">
    <div>
      <div ng-repeat="domaine in newItem.domaines" ng-include="'tree_items_renderer.html'">
      </div>
    </div>
  </div>
</section>