<!--
  ~ Copyright (c) Région Hauts-de-France, Département de la Seine-et-Marne, CGI, 2016.
  ~     This file is part of OPEN ENT NG. OPEN ENT NG is a versatile ENT Project based on the JVM and ENT Core Project.
  ~
  ~   This program is free software; you can redistribute it and/or modify
  ~   it under the terms of the GNU Affero General Public License as
  ~   published by the Free Software Foundation (version 3 of the License).
  ~   For the sake of explanation, any module that communicate over native
  ~   Web protocols, such as HTTP, with OPEN ENT NG is outside the scope of this
  ~   license and could be license under its own terms. This is merely considered
  ~   normal use of OPEN ENT NG, and does not fall under the heading of "covered work".
  ~
  ~   This program is distributed in the hope that it will be useful,
  ~   but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
  -->

<div class="responsive-table">

    <table>
        <thead>
        <tr>
            <th class="titleCenter"><i18n>viescolaire.utils.periode</i18n></th>
            <th class="titleCenter"><i18n>average.min</i18n>&nbsp;<i18n>student</i18n></th>
            <th class="titleCenter" ng-repeat="sousMatiere in search.matiere.sousMatieres.all">
                <i18n>average.min</i18n>&nbsp;<span>[[sousMatiere.libelle]]</span>
            </th>
            <th class="titleCenter"><i18n>average.min</i18n>&nbsp;<i18n>viescolaire.utils.classe</i18n></th>
            <th class="titleCenter"><i18n>evaluations.releve.positionnement.min</i18n></th>
            <th class="titleCenter" ng-repeat="sousMatiere in search.matiere.sousMatieres.all">
                <i18n>evaluations.releve.positionnement.min</i18n>&nbsp;<span>[[sousMatiere.libelle]]</span>
            </th>
            <th class="titleCenter"><i18n>viescolaire.utils.appreciation</i18n></th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="historique in informations.eleve.historiques">
            <td class="width-td-20" data-label="[[translate('viescolaire.utils.periode')]]"> [[historique.periode]] </td>
            <td class="width-td-0" ng-class="{changedAverage: historique.moyenneFinale !== ''}"
                data-label="[[translate('student')]]" >
                [[(historique.moyenneFinale !== "")? historique.moyenneFinale : historique.moyenne]]
            </td>
            <td class="width-td-0" ng-repeat="sousMatiere in releveNote.matiere.sousMatieres.all">
                <span style="margin-left: 2px">[[(historique.moyenneSousMatieres[sousMatiere.id_type_sousmatiere] )]]
                </span>
            <td class="width-td-0" data-label="[[translate('viescolaire.utils.classe')]]" >[[historique.moyenneClasse]] </td>
            <td class="width-td-0" data-label="[[translate('evaluations.releve.positionnement')]]"
                ng-class="{changedAverage: historique.positionnementFinal !== ''}">
                [[(historique.positionnementFinal !== "")? historique.positionnementFinal : historique.positionnement]]
            </td>
            <td class="width-td-0" ng-repeat="sousMatiere in releveNote.matiere.sousMatieres.all">
                <span style="margin-left: 2px">[[ (historique.posSousMatieres[sousMatiere.id_type_sousmatiere]) ]]</span>
            </td>
            <td class="width-td-0 text-align-left" data-label="[[translate('viescolaire.utils.appreciation')]]" > [[historique.appreciation]] </td>
        </tr>
        </tbody>
    </table>

</div>
