<!--
  ~ Copyright (c) Région Hauts-de-France, Département 77, CGI, 2016.
  ~
  ~ This file is part of OPEN ENT NG. OPEN ENT NG is a versatile ENT Project based on the JVM and ENT Core Project.
  ~
  ~ This program is free software; you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as
  ~ published by the Free Software Foundation (version 3 of the License).
  ~ For the sake of explanation, any module that communicate over native
  ~ Web protocols, such as HTTP, with OPEN ENT NG is outside the scope of this
  ~ license and could be license under its own terms. This is merely considered
  ~ normal use of OPEN ENT NG, and does not fall under the heading of "covered work".
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
  ~
  -->
<div class="row">
    <div class="twelve cell">
        <!--<section>-->
            <!--<content ng-show="bilanPeriodique === undefined">-->
                <!--<article class="card twelve-mobile centered card-projet">-->
                    <!--<i18n>evaluation.bilan.periodique.projet.empty</i18n>-->
                <!--</article>-->
            <!--</content>-->
        <!--</section>-->
        <section>
            <content ng-show="bilanPeriodique !== undefined">
                <h4 ng-class="{'openedElem' : EPI.opened}"
                    class="margin-top-05em Domaine"
                    ng-click="EPI.opened = !EPI.opened"
                    ng-init="EPI.opened = true">
                    <i18n>enseignements.pratiques.interdisciplinaires</i18n>
                </h4>
                <div ng-show="!EPI.opened" ng-repeat="element in elementsDisplay track by $index | filter:filterElements(1)"
                     class="twelve cell marginFive">
                    <div class="four cell marginFive">
                        <h2>[[element.libelle]]</h2>
                    </div>
                    <div class="four cell" ng-show="canUpdateAppreciations()">
                        <textarea type="text" class="eleven input-appreciation"
                           name="appreciation"
                           ng-model="informations.eleve.appreciations[search.periode.id][element.id]"
                           ng-blur="saveAppElement(element, informations.eleve)"></textarea>
                    </div>
                    <div class="four cell" ng-show="!canUpdateAppreciations()">
                        <span ng-bind="informations.eleve.appreciations[search.periode.id][element.id]"></span>
                    </div>

                </div>
            </content>
        </section>
        <section>
            <content ng-show="bilanPeriodique !== undefined">
                <h4 ng-class="{'openedElem' : AP.opened}"
                    class="margin-top-05em Domaine"
                    ng-click="AP.opened = !AP.opened"
                    ng-init="AP.opened = true">
                    <i18n>accompagnements.personnalises</i18n>
                </h4>
                <div ng-show="!AP.opened" ng-repeat="element in elementsDisplay track by $index | filter:filterElements(2)"
                     class="marginFive">
                    <div><span>[[element.libelle]]</span></div>
                    <div ng-show="canUpdateAppreciations()">
                        <textarea type="text" class="eleven input-appreciation"
                           name="appreciation"
                           ng-model="informations.eleve.appreciations[search.periode.id][element.id]"
                           ng-blur="saveAppElement(element, informations.eleve)"></textarea>
                    </div>
                    <div ng-show="!canUpdateAppreciations()">
                        <span ng-bind="informations.eleve.appreciations[search.periode.id][element.id]"></span>
                    </div>
                </div>
            </content>
        </section>
        <section>
            <content ng-show="bilanPeriodique !== undefined">
                <h4 ng-class="{'openedElem' : parcours.opened}"
                    class="margin-top-05em Domaine"
                    ng-click="parcours.opened = !parcours.opened"
                    ng-init="parcours.opened = true">
                    <i18n>parcours.educatifs</i18n>
                </h4>
                <div ng-show="!parcours.opened" ng-repeat="element in elementsDisplay track by $index | filter:filterElements(3)"
                     class="marginFive">
                    <div><span>[[element.theme.libelle]]</span></div>

                    <div ng-show="canUpdateAppreciations()">
                        <textarea type="text" class="eleven input-appreciation"
                           name="appreciation" ng-model="informations.eleve.appreciations[search.periode.id][element.id]"
                           ng-blur="saveAppElement(element, informations.eleve)"></textarea>
                    </div>
                    <div ng-show="!canUpdateAppreciations()">
                        <span ng-bind="informations.eleve.appreciations[search.periode.id][element.id]"></span>
                    </div>

                </div>
            </content>
        </section>
    </div>
</div>